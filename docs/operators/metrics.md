# List of metrics

Both the API service and the collector service expose all metrics generated by the standard Go client for Prometheus,
e.g. `go_memstats_alloc_bytes` for memory usage or `go_goroutines` for goroutine count.

## API service

The API service exposes the standard HTTP metrics generated by the standard Go client for Prometheus:

| Type | Metric | Labels |
| --- | --- | --- |
| Summary | `http_request_duration_microseconds` ||
| Summary | `http_request_size_bytes` ||
| Counter | `http_requests_total` | `code`, `method` |
| Summary | `http_response_size_bytes` ||

## Collector service

The collector service exposes the following metrics by default:

| Type | Metric | Labels |
| --- | --- | --- |
| Counter | `limes_successful_scrapes` | `os_cluster`, `service` (counts projects) |
| Counter | `limes_failed_scrapes` | `os_cluster`, `service` (counts projects) |

The `limes_failed_scrapes` metric is particularly useful for assessing the continued operation of backend services
(specifically their API parts). If you can do only one alert on Limes metrics, alert on `limes_failed_scrapes`.
`os_cluster` represents the OpenStack cluster configured in the [clusters configuration section](config.md#section-clusters)

## Data metrics

With the configuration option `collector.data_metrics` set to true, the collector service will report the following
additional metrics:

| Type | Metric | Labels |
| --- | --- | --- |
| Gauge | `limes_cluster_capacity` | `os_cluster`, `service`, `resource` |
| Gauge | `limes_domain_quota` | `os_cluster`, `service`, `resource`, `domain`, `domain_id` |
| Gauge | `limes_project_backendquota` | `os_cluster`, `service`, `resource`, `domain`, `domain_id`, `project`, `project_id` |
| Gauge | `limes_project_quota` | `os_cluster`, `service`, `resource`, `domain`, `domain_id`, `project`, `project_id` |
| Gauge | `limes_project_usage` | `os_cluster`, `service`, `resource`, `domain`, `domain_id`, `project`, `project_id` |

`os_cluster` represents the OpenStack cluster configured in the [clusters configuration section](config.md#section-clusters)
